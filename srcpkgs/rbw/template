# Template file for 'rbw'
pkgname=rbw
version=1.14.0
revision=1
archs="x86_64* i686* aarch64* arm*" # ring
build_style="cargo"
build_helper="qemu"
depends="pinentry"
short_desc="Unofficial command-line client for Bitwarden"
maintainer="Andrew J. Hesford <ajh@sideband.org>"
license="MIT"
homepage="https://github.com/doy/rbw"
changelog="https://raw.githubusercontent.com/doy/rbw/refs/heads/main/CHANGELOG.md"
distfiles="${homepage}/archive/${version}.tar.gz"
checksum=e754da1cca32593e8af6b5d24d7a1eb82bf00e9811a8e42fd7293a6e36724f1d

post_install() {
	for shell in bash fish zsh; do
		vtargetrun target/${RUST_TARGET}/release/rbw gen-completions $shell > rbw.$shell
		vcompletion rbw.$shell $shell
	done

	vlicense LICENSE
}
